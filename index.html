<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Comme des Garçons PLAY Cosmetics | Wear Your Heart</title>
  <meta name="description"
    content="Simple lines, iconic emotions. The first cosmetic collection by CDG Play. Wear Your Heart on Your Face." />
</head>

<body>
  <header id="main-header">
    <nav class="container">
      <div class="logo">
        <a href="./">
          <img src="./assets/images/cdg-logo.svg" alt="CDG PLAY" class="heart-pulsate" />
          <span class="brand-name">COMME des GARÇONS Play Beauty</span>
        </a>
      </div>
      <ul class="nav-links">
        <li><a href="#philosophy" data-i18n="nav.philosophy">Philosophy</a></li>
        <li><a href="#collection" data-i18n="nav.collection">Collection</a></li>
        <li><a href="#media" data-i18n="nav.media">Media Lab</a></li>
        <li><a href="#partner" data-i18n="nav.partner">Partner</a></li>
      </ul>
      <div class="lang-selector">
        <button onclick="changeLang('en')">Hello</button>
        <button onclick="changeLang('ja')">こんにちは</button>
        <button onclick="changeLang('zh')">你好</button>
        <button onclick="changeLang('ko')">안녕</button>
        <button onclick="changeLang('fr')">Bonjour</button>
        <button onclick="changeLang('id')">Apa Kabar</button>
      </div>
    </nav>
  </header>

  <main id="app">
    <!-- Hero Section -->
    <section id="hero" class="section-padding">
      <div class="container bento-grid">
        <div class="bento-item hero-visual" style="grid-column: span 8; grid-row: span 4;">
          <div class="heart-animation-container">
            <svg viewBox="0 0 100 100" class="main-heart">
              <path
                d="M50 85c-1.5 0-3-.5-4.2-1.5-12-9.6-22.3-19.5-28.5-27.4-6.4-8.2-9-15.3-7.6-21.2 1.9-8 8.4-14.1 16-15.2 6.4-1 12.8 1.6 17.5 6.8 2.8 3.1 4.5 6.7 5 7.1.5-.4 2.2-4 5-7.1 4.7-5.2 11.1-7.8 17.5-6.8 7.6 1.1 14.1 7.2 16 15.2 1.4 5.9-1.2 13-7.6 21.2-6.2 7.9-16.5 17.8-28.5 27.4-1.2 1-2.7 1.5-4.2 1.5z"
                fill="#E60012" />
            </svg>
          </div>
        </div>
        <div class="bento-item hero-text" style="grid-column: span 4; grid-row: span 2;">
          <h1 data-i18n="hero.headline">Wear Your Heart on Your Face.</h1>
          <p data-i18n="hero.subtext">Simple lines, iconic emotions. The first cosmetic collection by CDG Play.</p>
          <a href="#collection" class="cta-btn" data-i18n="hero.cta">Discover Collection</a>
        </div>
        <div class="bento-item product-preview"
          style="grid-column: span 4; grid-row: span 2; background: var(--color-black); overflow: hidden; padding: 0;">
          <video id="hero-video-player" class="autoplay-video" muted playsinline loop
            style="width: 100%; height: 100%; object-fit: cover;">
            <source src="./assets/videos/hero-dance.mp4" type="video/mp4" />
          </video>
        </div>
      </div>
    </section>

    <!-- Philosophy Section -->
    <section id="philosophy" class="section-padding">
      <div class="container">
        <h2 data-i18n="philosophy.title">Play with Essentials.</h2>
        <div class="philosophy-content">
          <p data-i18n="philosophy.body"></p>
        </div>
      </div>
    </section>

    <!-- Collection Section -->
    <section id="collection" class="section-padding container">
      <!-- Collection Showcase -->
      <div id="collection-showcase"
        class="collection-showcase-container mb-20 overflow-hidden rounded-3xl bg-white shadow-2xl h-[500px] lg:h-[700px] relative group animate-on-scroll">
        <div class="flex h-full overflow-x-auto snap-x snap-mandatory no-scrollbar scroll-smooth" id="showcase-slider">
          <!-- Showcase items injected by JS -->
          <div class="snap-start min-w-full h-full flex items-center justify-center p-8 bg-[#F3F3F3] animate-pulse">
            <p class="text-gray-400 font-bold tracking-widest uppercase">Loading Collection Showcase...</p>
          </div>
        </div>
        <!-- Simple slider indicators could go here -->
      </div>

      <div class="collection-title">
        <h2 data-i18n="products.skin">Play Skin</h2>
      </div>
      <div id="skin-grid" class="product-grid">
        <!-- Skin products injected by JS -->
      </div>

      <div class="collection-title" style="margin-top: 100px;">
        <h2 data-i18n="products.color">Play Color</h2>
      </div>
      <div id="color-grid" class="product-grid">
        <!-- Color products injected by JS -->
      </div>

      <!-- Interactive Color Playground -->
      <div class="color-playground">
        <div class="model-view">
          <img src="./assets/images/model-face.png" alt="Model" class="model-img" />
          <div id="color-overlay" class="color-overlay"></div>
        </div>
        <div class="controls">
          <h3 data-i18n="products.color">Play Color</h3>
          <p>Signature Red is not just a color. It's an attitude.</p>
          <div id="color-swatches" style="margin-top: 20px;">
            <!-- Swatches injected by JS -->
          </div>
        </div>
      </div>
    </section>

    <!-- Media Lab Section -->
    <section id="media" class="section-padding container">
      <div class="media-header">
        <h2 data-i18n="media.title">Media Lab</h2>
        <p class="media-body">Explore our visuals and technical documents.</p>
      </div>

      <div class="media-lab-grid">
        <!-- Videos Left (4 items) -->
        <div class="videos-section">
          <h3>Featured Videos</h3>
          <div id="video-grid" class="video-grid">
            <!-- Videos injected by JS -->
          </div>
        </div>

        <!-- PDFs Right (4 items) -->
        <div class="pdfs-section">
          <h3>Documentation</h3>
          <div id="pdf-list" class="pdf-list">
            <!-- PDFs injected by JS -->
          </div>
        </div>
      </div>

      <!-- Footer Archive Section -->
      <div class="archive-section">
        <h3>Archives & Resources</h3>
        <div id="archive-list" class="archive-list">
          <!-- Archive items injected by JS -->
        </div>
      </div>
    </section>

    <!-- Global Partner Section -->
    <section id="partner" class="section-padding">
      <div class="container">
        <h2 style="margin-bottom: var(--spacing-md);">Become a Player</h2>
        <div class="partner-grid">
          <div class="inquiry-form">
            <h3>Business Inquiry</h3>
            <form id="contact-form" onsubmit="handleInquiry(event)">
              <div class="form-group">
                <label>Name</label>
                <input type="text" name="name" required />
              </div>
              <div class="form-group">
                <label>Email</label>
                <input type="email" name="email" required />
              </div>
              <div class="form-group">
                <label>Country</label>
                <select name="country">
                  <option>Korea</option>
                  <option>Japan</option>
                  <option>USA</option>
                  <option>France</option>
                  <option>Other</option>
                </select>
              </div>
              <div class="form-group">
                <label>Message</label>
                <textarea name="message" rows="5"></textarea>
              </div>
              <button type="submit" class="submit-btn" id="inquiry-submit">SEND INQUIRY</button>
            </form>

            <!-- Supabase SDK & Integration -->
            <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
            <script type="module">
              const SUPABASE_URL = "https://agnztfqynbdvqdpxzajh.supabase.co";
              const SUPABASE_KEY = "sb_publishable_L1FEdbVz6jHV3bUvhmMjwg_vW2hZVfY";

              let supabaseInstance;

              function getSupabase() {
                if (supabaseInstance) return supabaseInstance;
                if (window.supabase) {
                  supabaseInstance = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
                  return supabaseInstance;
                }
                return null;
              }

              window.handleInquiry = async function (e) {
                e.preventDefault();
                const btn = document.getElementById('inquiry-submit');
                const formData = new FormData(e.target);
                const data = Object.fromEntries(formData.entries());

                const sb = getSupabase();
                if (!sb) {
                  alert('Supabase SDK is still loading. Please wait a moment and try again.');
                  return;
                }

                btn.disabled = true;
                btn.innerText = 'SENDING...';

                try {
                  console.log('Inserting to Supabase:', data);
                  const { error } = await sb
                    .from('inquiries')
                    .insert([
                      {
                        name: data.name,
                        email: data.email,
                        country: data.country,
                        message: data.message
                      }
                    ]);

                  if (error) throw error;

                  alert('Interest submitted to Supabase successfully!');
                  e.target.reset();
                } catch (err) {
                  console.error('Supabase Error:', err);
                  alert('Error: ' + (err.message || 'Connecting to Supabase failed. Check console for details.'));
                } finally {
                  btn.disabled = false;
                  btn.innerText = 'SEND INQUIRY';
                }
              };
            </script>
          </div>
          <div class="faq-section" id="contact-display-section">
            <h3 style="margin-bottom: 30px;">Contact Us</h3>
            <div id="contact-info-content">
              <div class="contact-item" style="margin-bottom: 25px;">
                <label
                  style="display:block; font-size:10px; font-weight:900; color:var(--color-black); margin-bottom:5px; text-transform:uppercase; letter-spacing:1px;">Address</label>
                <p id="display-address" style="font-size:14px; line-height:1.6; font-weight:500;">Loading...</p>
              </div>
              <div class="contact-item" style="margin-bottom: 25px;">
                <label
                  style="display:block; font-size:10px; font-weight:900; color:var(--color-black); margin-bottom:5px; text-transform:uppercase; letter-spacing:1px;">Contact</label>
                <p id="display-phone" style="font-size:14px; line-height:1.6; font-weight:500;">Loading...</p>
              </div>
              <div class="contact-item" style="margin-bottom: 25px;">
                <label
                  style="display:block; font-size:10px; font-weight:900; color:var(--color-black); margin-bottom:5px; text-transform:uppercase; letter-spacing:1px;">Email</label>
                <p id="display-email" style="font-size:14px; line-height:1.6; font-weight:500;">Loading...</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </main>

  <!-- Bottom Video Section -->
  <section id="bottom-video-section" style="background: var(--color-black); padding: 0; line-height: 0;">
    <div id="bottom-video-container"
      style="width: 100%; aspect-ratio: 16/9; max-height: 80vh; overflow: hidden; background: #000;">
      <!-- Video centered and filling container -->
    </div>
  </section>

  <footer class="section-padding" style="background: var(--color-black); color: #fff; text-align: center;">
    <p data-i18n="footer.rights"></p>
  </footer>

  <script type="module" src="./src/main.js"></script>
  <script>
    function changeLang(lang) {
      window.i18nManager.setLanguage(lang);
    }
  </script>
</body>

</html>